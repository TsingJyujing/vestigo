# Bearer Token Authentication Examples
# If tokens are configured in config.yaml, add Authorization header to API requests
# Example: Authorization: Bearer your-secret-token-1

### Check Server Status

GET http://localhost:8080/health


### Check Server Metrics

GET http://localhost:8080/metrics

### Create New Document 1

POST http://localhost:8080/api/v1/doc/
Content-Type: application/json

{
  "id": "doc-crud-test-20260110-001",
  "title": "山达尔星联邦介绍",
  "description": "关于山达尔星联邦共和国的基本信息",
  "data": {
    "author": "联邦档案馆",
    "category": "政治",
    "classification": "public"
  },
  "texts": [
    "山达尔星联邦共和国联邦政府是一个强大的政治实体",
    "它由多个星球组成，共同致力于维护和平与繁荣"
  ]
}

### Create/Overwrite Document with overwrite=true

POST http://localhost:8080/api/v1/doc/?overwrite=true
Content-Type: application/json

{
  "id": "doc-crud-test-20260110-001",
  "title": "山达尔星联邦介绍（更新版）",
  "description": "更新后的联邦信息",
  "data": {
    "author": "联邦档案馆",
    "category": "政治",
    "classification": "public",
    "version": 2
  },
  "texts": [
    "山达尔星联邦共和国是宇宙中最强大的政治联盟之一",
    "联邦现已扩展至50个星系，包含数百个成员星球"
  ]
}

### Create/Overwrite Document with overwrite=1

POST http://localhost:8080/api/v1/doc/?overwrite=1
Content-Type: application/json

{
  "id": "doc-crud-test-20260110-002",
  "title": "星际贸易协定（修订版）",
  "description": "最新贸易协定内容",
  "data": {
    "author": "贸易部",
    "category": "经济",
    "year": 2026,
    "revision": 3
  },
  "texts": [
    "新的星际贸易协定大幅降低了关税壁垒",
    "促进了自由贸易和经济一体化进程"
  ]
}

### Create New Document 2

POST http://localhost:8080/api/v1/doc/
Content-Type: application/json

{
  "id": "doc-crud-test-20260110-002",
  "title": "星际贸易协定",
  "description": "山达尔星与邻近星系的贸易关系",
  "data": {
    "author": "贸易部",
    "category": "经济",
    "year": 2026
  },
  "texts": [
    "星际贸易协定促进了各星球之间的经济交流",
    "山达尔星作为贸易中心，吸引了大量商业活动"
  ]
}

### Create New Document 3

POST http://localhost:8080/api/v1/doc/
Content-Type: application/json

{
  "id": "doc-crud-test-20260110-003",
  "title": "联邦科技发展",
  "description": "山达尔星联邦的科技创新成就",
  "data": {
    "author": "科技部",
    "category": "科技",
    "priority": "high"
  },
  "texts": [
    "联邦政府大力投资科技研发项目",
    "先进的空间跳跃技术使得星际旅行更加便捷",
    "能源革命为各星球提供了清洁可持续的动力"
  ]
}

### Create New Document 4

POST http://localhost:8080/api/v1/doc/
Content-Type: application/json

{
  "id": "doc-crud-test-20260110-004",
  "title": "和平维护机制",
  "description": "联邦如何维持星际和平",
  "data": {
    "author": "和平委员会",
    "category": "安全"
  },
  "texts": [
    "联邦建立了完善的和平维护机制",
    "各成员星球通过民主协商解决争端",
    "军事力量仅用于防御外部威胁"
  ]
}

### Get Document (without chunks)

GET http://localhost:8080/api/v1/doc/doc-crud-test-20260110-001

### Get Document with Text Chunks

GET http://localhost:8080/api/v1/doc/doc-crud-test-20260110-001?with_texts=true

### Get Document with Text Chunks (alternative parameter)

GET http://localhost:8080/api/v1/doc/doc-crud-test-20260110-002?with_texts=1

### Delete Document

DELETE http://localhost:8080/api/v1/doc/doc-crud-test-20260110-001

### Add Text Chunk to Document

POST http://localhost:8080/api/v1/doc/doc-crud-test-20260110-002/text
Content-Type: application/json

{
  "content": "新的贸易路线开辟了更多商业机会"
}

### Simple Search - Default Limit (100)

GET http://localhost:8080/api/v1/search/simple?q=爸爸

### Simple Search - 联邦

GET http://localhost:8080/api/v1/search/simple?q=联邦

### Simple Search - 和平

GET http://localhost:8080/api/v1/search/simple?q=和平

### Simple Search - 科技

GET http://localhost:8080/api/v1/search/simple?q=科技

### Simple Search with Limit n=5

GET http://localhost:8080/api/v1/search/simple?q=星球&n=5

### Simple Search with Limit n=1

GET http://localhost:8080/api/v1/search/simple?q=联邦&n=1

### Simple Search with Limit n=10

GET http://localhost:8080/api/v1/search/simple?q=山&n=10

### Simple Search with Large Limit n=1000

GET http://localhost:8080/api/v1/search/simple?q=星&n=1000

### ANN Search - Default Limit (10)
POST http://localhost:8080/api/v1/search/ann/ollama-qwen3-embedding-0.6b?q=三国时期的故事